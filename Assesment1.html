<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assesment 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: super;
            margin: 0 2px;
            font-size: 0.6em;
            line-height: 1;
            position: relative;
            top: -0.3em;
        }
        .fraction-top {
            border-bottom: 1px solid #000;
            padding: 1px 3px;
            min-width: 10px;
            font-size: 10px;
            font-weight: 600;
        }
        .fraction-bottom {
            padding: 1px 3px;
            min-width: 10px;
            font-size: 10px;
            font-weight: 600;
        }
        .fraction-regular {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            margin: 0 2px;
            font-size: 1em;
            line-height: 1;
            position: relative;
            top: -0.3em;
        }
        .fraction-top-regular {
            border-bottom: 1.5px solid #000;
            padding: 2px 6px;
            min-width: 16px;
            font-size: 16px;
            font-weight: 600;
        }
        .fraction-bottom-regular {
            padding: 2px 6px;
            min-width: 16px;
            font-size: 16px;
            font-weight: 600;
        }
        .contenteditable {
            outline: none;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 2px;
        }
        .contenteditable:focus {
            background: rgba(59, 130, 246, 0.2);
        }
        .math-input {
            min-height: 60px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px;
            font-size: 18px;
            line-height: 1.5;
        }
        .math-input:focus {
            border-color: #3b82f6;
            outline: none;
        }
        .math-input[data-placeholder]:empty::before {
            content: attr(data-placeholder);
            color: #9ca3af;
        }
        .virtual-keyboard {
            display: none;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-top: 8px;
        }
        .virtual-keyboard.show {
            display: block;
        }
        .btn-math {
            min-width: 50px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 500;
            border: 1px solid #d1d5db;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-math:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .matching-item {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .matching-item:hover {
            border-color: #3b82f6;
        }
        .matching-item.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .matching-item.matched-green {
            border-color: #10b981;
            background-color: #dcfce7;
            border-width: 3px;
        }
        .matching-item.matched-blue {
            border-color: #3b82f6;
            background-color: #dbeafe;
            border-width: 3px;
        }
        .matching-item.matched-orange {
            border-color: #f97316;
            background-color: #fed7aa;
            border-width: 3px;
        }
        .matching-item.matched-purple {
            border-color: #8b5cf6;
            background-color: #ede9fe;
            border-width: 3px;
        }
        .matching-item.matched-pink {
            border-color: #ec4899;
            background-color: #fce7f3;
            border-width: 3px;
        }
        .graph-container {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            text-align: center;
        }
        .story-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .story-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        .story-content {
            font-size: 1.1rem;
            line-height: 1.6;
            text-align: justify;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Assesment 1</h1>
                <h2 class="text-xl font-semibold text-blue-600 mb-4">Sistem Persamaan Linear Dua Variabel (SPLDV)</h2>
                <p class="text-gray-600">Total Soal: 25 (A: 10, B: 5, C: 5, D: 5, E: 5)</p>
                
                <!-- Identity Section -->
                <div class="mt-6 bg-gray-100 p-6 rounded-lg" id="identitySection">
                    <h3 class="text-lg font-semibold mb-4">Identitas Peserta</h3>
                    <div class="max-w-md mx-auto">
                        <label class="block text-left text-sm font-medium text-gray-700 mb-2">Nama Lengkap:</label>
                        <input type="text" id="studentName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Masukkan nama lengkap Anda" required>
                    </div>
                    <button type="button" id="startExamBtn" class="mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors">
                        Mulai
                    </button>
                </div>
                
                <!-- Exam Status -->
                <div class="mt-4 bg-blue-100 p-4 rounded-lg hidden" id="examStatus">
                    <div class="text-lg font-semibold text-blue-800">
                        Status: <span id="statusText">Assesment 1 Dimulai</span> | 
                        Waktu Mulai: <span id="startTime">-</span>
                    </div>
                </div>
            </div>

            <!-- Story Context -->
            <div class="story-box hidden" id="storyContext">
            <form id="examForm" class="hidden">
 </div>
                <!-- BAGIAN A: PILIHAN GANDA (10 soal) -->
                <div class="mb-8 p-6 bg-blue-50 rounded-lg">
                    <h2 class="text-2xl font-bold mb-6 text-blue-800">A. PILIHAN GANDA (10 Soal)</h2>
                    
                    <!-- Soal 1 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">1. Seorang pedagang membeli 3 kg apel dan 2 kg jeruk dengan harga Rp 25.000. Jika harga 1 kg apel adalah x rupiah dan harga 1 kg jeruk adalah y rupiah, maka model matematika yang tepat adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q1" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. 3x + 2y = 25.000</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q1" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. 2x + 3y = 25.000</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q1" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 3x - 2y = 25.000</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q1" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. x + y = 25.000</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 2 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">2. Diketahui sistem persamaan 2x + 3y = 12 dan x - y = 1. Nilai x yang memenuhi sistem tersebut adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q2" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q2" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q2" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 4</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q2" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. 5</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 3 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">3. Jika titik (4, y) terletak pada garis 2x - 3y = 2, maka nilai y adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q3" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q3" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q3" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 4</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q3" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. 6</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 4 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">4. Diketahui persamaan garis 3x + 2y = 12. Jika x = 2, maka nilai y adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q4" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q4" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q4" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 4</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q4" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. 6</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 5 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">5. Perhatikan grafik berikut. Titik potong kedua garis adalah...</h3>
                        <div class="graph-container">
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- Grid -->
                                <defs>
                                    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                        <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e0e0" stroke-width="1"/>
                                    </pattern>
                                </defs>
                                <rect width="300" height="200" fill="url(#grid)" />
                                <!-- Axes -->
                                <line x1="140" y1="0" x2="140" y2="200" stroke="#666" stroke-width="2"/>
                                <line x1="0" y1="100" x2="300" y2="100" stroke="#666" stroke-width="2"/>
                                <!-- Garis 1: y = x - 1 (melalui (0,-1) dan (3,2)) -->
                                <line x1="140" y1="120" x2="200" y2="60" stroke="blue" stroke-width="3"/>
                                <!-- Garis 2: y = -x + 3 (melalui (0,3) dan (3,0)) -->
                                <line x1="140" y1="40" x2="200" y2="100" stroke="red" stroke-width="3"/>
                                <!-- Titik potong (2, 1) -->
                                <circle cx="180" cy="80" r="4" fill="green"/>
                                <!-- Labels -->
                                <text x="185" y="75" font-size="12" fill="green">(2, 1)</text>
                                <!-- Axis labels -->
                                <text x="160" y="95" font-size="10" fill="black">1</text>
                                <text x="180" y="95" font-size="10" fill="black">2</text>
                                <text x="200" y="95" font-size="10" fill="black">3</text>
                                <text x="145" y="85" font-size="10" fill="black">1</text>
                                <text x="145" y="65" font-size="10" fill="black">2</text>
                            </svg>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q5" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. (1, 2)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q5" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. (2, 1)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q5" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. (3, 2)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q5" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. (1, 3)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 6 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">6. Perhatikan grafik sistem persamaan berikut. Sistem persamaan tersebut memiliki...</h3>
                        <div class="graph-container">
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- Grid -->
                                <rect width="300" height="200" fill="url(#grid)" />
                                <!-- Axes -->
                                <line x1="140" y1="0" x2="140" y2="200" stroke="#666" stroke-width="2"/>
                                <line x1="0" y1="100" x2="300" y2="100" stroke="#666" stroke-width="2"/>
                                <!-- Dua garis sejajar -->
                                <line x1="50" y1="60" x2="250" y2="60" stroke="blue" stroke-width="3"/>
                                <line x1="50" y1="140" x2="250" y2="140" stroke="red" stroke-width="3"/>
                            </svg>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q6" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. Satu penyelesaian</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q6" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. Tidak ada penyelesaian</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q6" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. Tak hingga penyelesaian</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q6" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. Dua penyelesaian</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 7 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">7. Perhatikan grafik sistem persamaan x + y = 4 dan x - y = 2 berikut. Titik potong kedua garis adalah...</h3>
                        <div class="graph-container">
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- Grid -->
                                <rect width="300" height="200" fill="url(#grid)" />
                                <!-- Axes -->
                                <line x1="140" y1="0" x2="140" y2="200" stroke="#666" stroke-width="2"/>
                                <line x1="0" y1="100" x2="300" y2="100" stroke="#666" stroke-width="2"/>
                                <!-- Garis 1: x + y = 4 melalui (0,4) dan (4,0) -->
                                <line x1="140" y1="20" x2="220" y2="100" stroke="blue" stroke-width="3"/>
                                <!-- Garis 2: x - y = 2 melalui (2,0) dan (0,-2) diperpanjang ke (3,1) -->
                                <line x1="200" y1="80" x2="120" y2="160" stroke="red" stroke-width="3"/>
                                <!-- Titik potong (3, 1) -->
                                <circle cx="200" cy="80" r="4" fill="green"/>
                                <!-- Axis labels -->
                                <text x="160" y="95" font-size="10" fill="black">1</text>
                                <text x="180" y="95" font-size="10" fill="black">2</text>
                                <text x="200" y="95" font-size="10" fill="black">3</text>
                                <text x="220" y="95" font-size="10" fill="black">4</text>
                                <text x="145" y="85" font-size="10" fill="black">1</text>
                                <text x="145" y="65" font-size="10" fill="black">2</text>
                                <text x="145" y="45" font-size="10" fill="black">3</text>
                                <text x="145" y="25" font-size="10" fill="black">4</text>
                            </svg>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q7" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. Dua garis berpotongan di (3, 1)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q7" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. Dua garis berpotongan di (1, 3)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q7" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. Dua garis sejajar</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q7" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. Dua garis berimpit</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 8 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">8. Dengan metode substitusi, nilai y dari sistem x + 2y = 8 dan x - y = 2 adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q8" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. y = 1</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q8" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. y = 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q8" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. y = 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q8" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. y = 4</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 9 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">9. Dengan metode eliminasi, nilai y dari sistem 3x + 2y = 16 dan 2x - y = 3 adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q9" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. 1</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q9" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q9" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q9" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. 4</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 10 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">10. Dengan metode campuran (eliminasi-substitusi), penyelesaian dari sistem 2x + y = 7 dan x + 3y = 11 adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q10" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. x = 1, y = 5</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q10" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. x = 2, y = 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q10" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. x = 3, y = 1</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q10" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. x = 4, y = 2</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- BAGIAN B: PILIHAN GANDA KOMPLEKS (5 soal) -->
                <div class="mb-8 p-6 bg-green-50 rounded-lg">
                    <h2 class="text-2xl font-bold mb-6 text-green-800">B. PILIHAN GANDA KOMPLEKS (5 Soal)</h2>
                    <p class="mb-4 text-sm text-gray-600">Petunjuk: Pilih semua jawaban yang benar dengan mencentang kotak yang sesuai!</p>
                    
                    <!-- Soal 11 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">11. Diketahui sistem persamaan x + y = 5 dan x - y = 1. Pernyataan yang benar adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q11" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. Nilai x = 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q11" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. Nilai x = 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q11" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. Nilai y = 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q11" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. Nilai y = 3</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 12 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">12. Diketahui sistem persamaan 2x + y = 6 dan x - y = 3. Pernyataan yang benar adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q12" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. Nilai x = 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q12" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. Nilai x = 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q12" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. Nilai y = 0</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q12" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. Nilai y = 1</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 13 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">13. Jika x = 2 dan y = 3, pernyataan yang benar adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q13" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. x + y = 5</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q13" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. x + y = 6</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q13" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. 2x + y = 7</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q13" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. 2x + y = 8</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 14 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">14. Diketahui persamaan 3x + 2y = 12. Jika x = 2, pernyataan yang benar adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q14" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. y = 3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q14" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. y = 4</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q14" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. y = 2</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q14" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. y = 5</span>
                            </label>
                        </div>
                    </div>

                    <!-- Soal 15 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">15. Sistem persamaan x + y = 4 dan 2x + 2y = 8. Pernyataan yang benar adalah...</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q15" value="a" class="w-4 h-4 text-blue-600">
                                <span>a. Kedua persamaan setara</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q15" value="b" class="w-4 h-4 text-blue-600">
                                <span>b. Sistem memiliki satu penyelesaian</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q15" value="c" class="w-4 h-4 text-blue-600">
                                <span>c. Sistem memiliki tak hingga penyelesaian</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="checkbox" name="q15" value="d" class="w-4 h-4 text-blue-600">
                                <span>d. Kedua garis sejajar</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- BAGIAN C: MENJODOHKAN (5 soal) -->
                <div class="mb-8 p-6 bg-orange-50 rounded-lg">
                    <h2 class="text-2xl font-bold mb-6 text-orange-800">C. MENJODOHKAN (5 Soal)</h2>
                    <p class="mb-4 text-lg">Pasangkan sistem persamaan di kolom kiri dengan penyelesaiannya di kolom kanan!</p>
                    
                    <div class="matching-container relative" id="matchingContainer">
                        <div class="space-y-3">
                            <div class="text-sm font-semibold text-gray-600 mb-2">Soal:</div>
                            <div class="matching-item" data-type="left" data-id="16" data-color="green">
                                16. Jika 2x + y = 7 dan x = 2, maka y = ...
                            </div>
                            <div class="matching-item" data-type="left" data-id="17" data-color="blue">
                                17. Dari persamaan 3x + 2y = 12, jika y = 3, maka x = ...
                            </div>
                            <div class="matching-item" data-type="left" data-id="18" data-color="orange">
                                18. Eliminasi y dari sistem: x + y = 5 dan 2x - y = 1
                            </div>
                            <div class="matching-item" data-type="left" data-id="19" data-color="purple">
                                19. Sistem x + y = 3 dan 2x + 2y = 6 memiliki...
                            </div>
                            <div class="matching-item" data-type="left" data-id="20" data-color="pink">
                                20. Untuk mengeliminasi y dari 2x + 3y = 8 dan 4x - y = 6, koefisien y harus...
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="text-sm font-semibold text-gray-600 mb-2">Jawaban:</div>
                            <div class="matching-item" data-type="right" data-id="A">
                                A. y = 3
                            </div>
                            <div class="matching-item" data-type="right" data-id="B">
                                B. x = 2
                            </div>
                            <div class="matching-item" data-type="right" data-id="C">
                                C. 3x = 6, maka x = 2
                            </div>
                            <div class="matching-item" data-type="right" data-id="D">
                                D. Garis berimpit (tak hingga penyelesaian)
                            </div>
                            <div class="matching-item" data-type="right" data-id="E">
                                E. Disamakan menjadi 3y dan -3y
                            </div>
                            <div class="matching-item" data-type="right" data-id="F">
                                F. y = 1
                            </div>
                            <div class="matching-item" data-type="right" data-id="G">
                                G. x = 4
                            </div>
                            <div class="matching-item" data-type="right" data-id="H">
                                H. Garis sejajar (tidak ada penyelesaian)
                            </div>
                        </div>
                        <svg class="absolute top-0 left-0 w-full h-full pointer-events-none" id="connectionSvg">
                        </svg>
                    </div>
                    <div class="mt-4 text-center">
                        <button type="button" id="resetMatching" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">
                            Reset Semua Jawaban
                        </button>
                    </div>
                    <input type="hidden" name="matching" id="matchingResult">
                </div>

                <!-- BAGIAN D: ISIAN SINGKAT (5 soal) -->
                <div class="mb-8 p-6 bg-purple-50 rounded-lg">
                    <h2 class="text-2xl font-bold mb-6 text-purple-800">D. ISIAN SINGKAT (5 Soal)</h2>
                    
                    <!-- Soal 21 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">21. Diketahui persamaan x + y = 7. Jika disubstitusi dengan x = y + 3, maka nilai y = ...</h3>
                        <div class="math-input" contenteditable="true" data-placeholder="Ketik jawaban Anda di sini..." id="mathInput21"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard21')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard21">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-4 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-orange-100 hover:bg-orange-200 rounded" data-function="fraction">a/b</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 22 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">22. Dengan metode eliminasi, selesaikan sistem berikut dengan penjumlahan bersusun:</h3>
                        <div class="ml-4 mb-3 font-mono text-lg">
                            <p>Persamaan 1: 2x + 3y = 13</p>
                            <p>Persamaan 2: 3x - 3y = 2</p>
                            <p class="mt-2">Nilai x = ...</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Ketik jawaban Anda di sini..." id="mathInput22"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard22')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard22">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-4 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-orange-100 hover:bg-orange-200 rounded" data-function="fraction">a/b</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 23 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">23. Jika titik (a, 4) terletak pada garis 2x + y = 10, maka nilai a = ...</h3>
                        <div class="math-input" contenteditable="true" data-placeholder="Ketik jawaban Anda di sini..." id="mathInput23"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard23')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard23">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-4 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-orange-100 hover:bg-orange-200 rounded" data-function="fraction">a/b</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 24 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">24. Diketahui persamaan garis 3x - 2y = 6. Jika y = 3, maka nilai x = ...</h3>
                        <div class="math-input" contenteditable="true" data-placeholder="Ketik jawaban Anda di sini..." id="mathInput24"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard24')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard24">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-4 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-orange-100 hover:bg-orange-200 rounded" data-function="fraction">a/b</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 25 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">25. Diketahui sistem persamaan x + 2y = 9 dan 3x - y = 4. Manakah dari titik-titik berikut yang merupakan titik potong kedua persamaan tersebut?</h3>
                        <div class="ml-4 mb-3">
                            <p>A. (1, 4)</p>
                            <p>B. (2, 3)</p>
                            <p>C. (3, 3)</p>
                            <p>D. (5, 2)</p>
                            <p>Jawaban: ...</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Ketik jawaban Anda di sini..." id="mathInput25"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard25')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard25">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-4 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-orange-100 hover:bg-orange-200 rounded" data-function="fraction">a/b</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BAGIAN E: URAIAN (5 soal) -->
                <div class="mb-8 p-6 bg-red-50 rounded-lg">
                    <h2 class="text-2xl font-bold mb-6 text-red-800">E. URAIAN (5 Soal)</h2>
                    
                    <!-- Soal 26 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">26. Selesaikan sistem persamaan berikut dengan metode substitusi:</h3>
                        <div class="ml-4 mb-3">
                            <p>2x + 3y = 16</p>
                            <p>x - y = 1</p>
                            <p>a. Nyatakan x dalam y dari persamaan kedua</p>
                            <p>b. Substitusikan ke persamaan pertama</p>
                            <p>c. Tentukan nilai x dan y</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Tulis jawaban lengkap Anda di sini..." id="mathInput26"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard26')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard26">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-6 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="×">×</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="x">x</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="²">²</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 27 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">27. Selesaikan sistem persamaan berikut dengan metode grafik:</h3>
                        <div class="ml-4 mb-3">
                            <p>x + y = 4</p>
                            <p>x - y = 2</p>
                            <p>a. Tentukan dua titik yang dilalui garis x + y = 4</p>
                            <p>b. Tentukan dua titik yang dilalui garis x - y = 2</p>
                            <p>c. Gambar grafik kedua garis dan tentukan titik potongnya sebagai penyelesaian sistem</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Tulis jawaban lengkap Anda di sini..." id="mathInput27"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard27')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard27">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-6 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="×">×</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="÷">÷</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="(">(</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 28 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">28. Seorang toko buah menjual apel dan jeruk. Pada hari pertama, terjual 5 kg apel dan 3 kg jeruk dengan total penjualan Rp 47.000. Pada hari kedua, terjual 2 kg apel dan 4 kg jeruk dengan total penjualan Rp 34.000. Tentukan:</h3>
                        <div class="ml-4 mb-3">
                            <p>a. Model matematika dari masalah tersebut</p>
                            <p>b. Harga per kg apel dan jeruk</p>
                            <p>c. Total penjualan jika terjual 3 kg apel dan 2 kg jeruk</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Tulis jawaban lengkap Anda di sini..." id="mathInput28"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard28')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard28">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-6 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="×">×</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value=".">.</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="000">000</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 29 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">29. Selesaikan sistem persamaan berikut dengan metode substitusi:</h3>
                        <div class="ml-4 mb-3">
                            <p>x + y = 6</p>
                            <p>2x - y = 3</p>
                            <p>a. Dari persamaan pertama, nyatakan x dalam y (atau sebaliknya)</p>
                            <p>b. Substitusikan hasil langkah a ke persamaan kedua untuk mencari nilai x</p>
                            <p>c. Substitusikan nilai x yang diperoleh untuk mencari nilai y</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Tulis jawaban lengkap Anda di sini..." id="mathInput29"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard29')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard29">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-6 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="×">×</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="/">/</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="≠">≠</button>
                            </div>
                        </div>
                    </div>

                    <!-- Soal 30 -->
                    <div class="mb-6 p-4 bg-white rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">30. Seorang siswa membeli 3 buku dan 2 pensil dengan harga Rp 15.000. Kemudian ia membeli lagi 2 buku dan 4 pensil dengan harga Rp 14.000. Tentukan:</h3>
                        <div class="ml-4 mb-3">
                            <p>a. Buatlah model matematika dari masalah tersebut (misalkan harga buku = x dan harga pensil = y)</p>
                            <p>b. Selesaikan sistem persamaan untuk mencari harga per buku dan pensil</p>
                            <p>c. Berapa harga yang harus dibayar jika membeli 1 buku dan 3 pensil?</p>
                        </div>
                        <div class="math-input" contenteditable="true" data-placeholder="Tulis jawaban lengkap Anda di sini..." id="mathInput30"></div>
                        <button type="button" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" onclick="toggleKeyboard('keyboard30')">
                            📱 Tampilkan Keyboard Matematika
                        </button>
                        <div class="virtual-keyboard" id="keyboard30">
                            <div class="grid grid-cols-6 gap-2 mb-4">
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="1">1</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="2">2</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="3">3</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="4">4</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="5">5</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="6">6</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="7">7</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="8">8</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="9">9</button>
                                <button type="button" class="btn-math bg-gray-100 hover:bg-gray-200 rounded" data-function="number" data-value="0">0</button>
                                <button type="button" class="btn-math bg-red-100 hover:bg-red-200 rounded" data-function="backspace">⌫</button>
                                <button type="button" class="btn-math bg-yellow-100 hover:bg-yellow-200 rounded" data-function="clear">C</button>
                            </div>
                            <div class="grid grid-cols-6 gap-2">
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="+">+</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="-">-</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="×">×</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="=">=</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="²">²</button>
                                <button type="button" class="btn-math bg-blue-100 hover:bg-blue-200 rounded" data-function="operator" data-value="∘">∘</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors">
                        Selesai
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Exam timing functionality
        let examStartTime = null;
        let examEndTime = null;
        
        // Start exam functionality
        document.getElementById('startExamBtn').addEventListener('click', function() {
            const studentName = document.getElementById('studentName').value.trim();
            
            if (!studentName) {
                alert('Silakan masukkan nama lengkap Anda terlebih dahulu!');
                return;
            }
            
            examStartTime = new Date();
            document.getElementById('startTime').textContent = examStartTime.toLocaleTimeString('id-ID');
            
            // Hide identity section and show exam
            document.getElementById('identitySection').classList.add('hidden');
            document.getElementById('examStatus').classList.remove('hidden');
            document.getElementById('storyContext').classList.remove('hidden');
            document.getElementById('examForm').classList.remove('hidden');
            
            // Scroll to story context
            document.getElementById('storyContext').scrollIntoView({ behavior: 'smooth' });
        });

        //Virtual keyboard functionality
        let currentInput=null;function toggleKeyboard(keyboardId){const keyboard=document.getElementById(keyboardId);const inputId=keyboardId.replace('keyboard','mathInput');currentInput=document.getElementById(inputId);keyboard.classList.toggle('show');if(keyboard.classList.contains('show')){currentInput.focus();}}
        //Math input functions
        function insertHTMLAtCursor(mathInput,html){mathInput.focus();const selection=window.getSelection();if(selection.rangeCount>0){const range=selection.getRangeAt(0);range.deleteContents();const div=document.createElement('div');div.innerHTML=html;const fragment=document.createDocumentFragment();while(div.firstChild){fragment.appendChild(div.firstChild);}range.insertNode(fragment);const editableElement=fragment.querySelector('.contenteditable');if(editableElement){const newRange=document.createRange();newRange.selectNodeContents(editableElement);newRange.collapse(false);selection.removeAllRanges();selection.addRange(newRange);}else{selection.removeAllRanges();selection.addRange(range);}}else{const div=document.createElement('div');div.innerHTML=html;while(div.firstChild){mathInput.appendChild(div.firstChild);}}mathInput.focus();}
        function insertTextAtCursor(mathInput,text){mathInput.focus();const selection=window.getSelection();if(selection.rangeCount>0){const range=selection.getRangeAt(0);range.deleteContents();range.insertNode(document.createTextNode(text));range.collapse(false);selection.removeAllRanges();selection.addRange(range);}else{mathInput.appendChild(document.createTextNode(text));}}
        //Keyboard event handlers
        document.addEventListener('click',function(e){if(e.target.classList.contains('btn-math')){if(!currentInput)return;const func=e.target.getAttribute('data-function');const value=e.target.getAttribute('data-value');switch(func){case'number':case'operator':case'letter':case'text':insertTextAtCursor(currentInput,value);break;case'fraction':insertHTMLAtCursor(currentInput,'<span class="fraction-regular"><div class="fraction-top-regular contenteditable" contenteditable="true">a</div><div class="fraction-bottom-regular contenteditable" contenteditable="true">b</div></span>&nbsp;');break;case'power-n':insertHTMLAtCursor(currentInput,'x<sup contenteditable="true">2</sup>');break;case'sqrt-x':insertHTMLAtCursor(currentInput,'√<span contenteditable="true" style="text-decoration: overline;">x</span>&nbsp;');break;case'backspace':const selection=window.getSelection();if(selection.rangeCount>0){const range=selection.getRangeAt(0);if(range.collapsed){range.setStart(range.startContainer,Math.max(0,range.startOffset-1));}range.deleteContents();}break;case'clear':currentInput.innerHTML='';break;}}});
        //Matching functionality
        let selectedLeft=null;let selectedRight=null;let matches={};

        // Correct answer mapping for matching section
        const correctAnswers = {
            '16': 'A', // 2x + y = 7, x = 2 → 2(2) + y = 7 → 4 + y = 7 → y = 3
            '17': 'B', // 3x + 2y = 12, y = 3 → 3x + 2(3) = 12 → 3x + 6 = 12 → 3x = 6 → x = 2
            '18': 'C', // x + y = 5 dan 2x - y = 1, eliminasi y: (x + y) + (2x - y) = 5 + 1 → 3x = 6 → x = 2
            '19': 'D', // Sistem x + y = 3 dan 2x + 2y = 6 memiliki garis berimpit (tak hingga penyelesaian)
            '20': 'E'  // Untuk eliminasi x dari 2x + 3y = 8 dan 4x - y = 6, koefisien y harus disamakan menjadi 3y dan -3y
        };

        function drawConnection(leftElement, rightElement, color) {
            const svg = document.getElementById('connectionSvg');
            const container = document.getElementById('matchingContainer');
            const containerRect = container.getBoundingClientRect();
            const leftRect = leftElement.getBoundingClientRect();
            const rightRect = rightElement.getBoundingClientRect();
            
            const x1 = leftRect.right - containerRect.left;
            const y1 = leftRect.top + leftRect.height / 2 - containerRect.top;
            const x2 = rightRect.left - containerRect.left;
            const y2 = rightRect.top + rightRect.height / 2 - containerRect.top;
            
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', x1);
            line.setAttribute('y1', y1);
            line.setAttribute('x2', x2);
            line.setAttribute('y2', y2);
            line.setAttribute('stroke', getColorHex(color));
            line.setAttribute('stroke-width', '3');
            line.setAttribute('data-connection', `${leftElement.getAttribute('data-id')}-${rightElement.getAttribute('data-id')}`);
            
            svg.appendChild(line);
        }

        function getColorHex(color) {
            const colors = {
                'green': '#10b981',
                'blue': '#3b82f6',
                'orange': '#f97316',
                'purple': '#8b5cf6',
                'pink': '#ec4899'
            };
            return colors[color] || '#3b82f6';
        }

        function clearConnections() {
            const svg = document.getElementById('connectionSvg');
            svg.innerHTML = '';
        }

        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('matching-item')) {
                const type = e.target.getAttribute('data-type');
                const id = e.target.getAttribute('data-id');
                
                if (type === 'left') {
                    if (selectedLeft) {
                        selectedLeft.classList.remove('selected');
                    }
                    selectedLeft = e.target;
                    e.target.classList.add('selected');
                } else if (type === 'right') {
                    if (selectedRight) {
                        selectedRight.classList.remove('selected');
                    }
                    selectedRight = e.target;
                    e.target.classList.add('selected');
                }
                
                if (selectedLeft && selectedRight) {
                    const leftId = selectedLeft.getAttribute('data-id');
                    const rightId = selectedRight.getAttribute('data-id');
                    const color = selectedLeft.getAttribute('data-color');
                    
                    matches[leftId] = rightId;
                    
                    selectedLeft.classList.remove('selected');
                    selectedRight.classList.remove('selected');
                    selectedLeft.classList.add(`matched-${color}`);
                    selectedRight.classList.add(`matched-${color}`);
                    
                    drawConnection(selectedLeft, selectedRight, color);
                    
                    selectedLeft = null;
                    selectedRight = null;
                    
                    document.getElementById('matchingResult').value = JSON.stringify(matches);
                }
            }
        });

        // Reset matching functionality
        document.getElementById('resetMatching').addEventListener('click', function() {
            matches = {};
            selectedLeft = null;
            selectedRight = null;
            
            const matchingItems = document.querySelectorAll('.matching-item');
            matchingItems.forEach(item => {
                item.classList.remove('selected', 'matched-green', 'matched-blue', 'matched-orange', 'matched-purple', 'matched-pink');
            });
            
            clearConnections();
            document.getElementById('matchingResult').value = '';
        });

        // Form submission
        document.getElementById('examForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            examEndTime = new Date();
            const duration = Math.round((examEndTime - examStartTime) / 1000 / 60);
            
            // Collect all answers
            const studentName = document.getElementById('studentName').value;
            const answers = {
                nama: studentName,
                waktuMulai: examStartTime.toLocaleString('id-ID'),
                waktuSelesai: examEndTime.toLocaleString('id-ID'),
                durasiPengerjaan: duration + ' menit'
            };
            
            // Collect multiple choice answers (1-10)
            for (let i = 1; i <= 10; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                answers[`q${i}`] = selected ? selected.value : 'Tidak dijawab';
            }
            
            // Collect complex multiple choice answers (11-15) - checkboxes
            for (let i = 11; i <= 15; i++) {
                const selected = document.querySelectorAll(`input[name="q${i}"]:checked`);
                const selectedValues = Array.from(selected).map(input => input.value);
                answers[`q${i}`] = selectedValues.length > 0 ? selectedValues.join(', ') : 'Tidak dijawab';
            }
            
            // Collect matching answers
            answers.matching = document.getElementById('matchingResult').value || 'Tidak dijawab';
            
            // Collect short answer questions (21-25)
            for (let i = 21; i <= 25; i++) {
                const input = document.getElementById(`mathInput${i}`);
                answers[`q${i}`] = input ? (input.innerHTML || 'Tidak dijawab') : 'Tidak dijawab';
            }
            
            // Collect essay questions (26-30)
            for (let i = 26; i <= 30; i++) {
                const input = document.getElementById(`mathInput${i}`);
                answers[`q${i}`] = input ? (input.innerHTML || 'Tidak dijawab') : 'Tidak dijawab';
            }
            
            showExamResults(answers);
        });
        
        function showExamResults(answers) {
            const resultWindow = window.open('', '_blank', 'width=900,height=700');
            
            let resultHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Hasil Latihan Fungsi - ${answers.nama}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                        .header { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
                        .section { background: #fff; border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }
                        .answer { background: #e8f5e8; padding: 8px; margin: 3px 0; border-radius: 3px; }
                        .fraction { display: inline-block; text-align: center; vertical-align: super; margin: 0 2px; font-size: 0.6em; position: relative; top: -0.3em; }
                        .fraction-top { border-bottom: 1px solid #000; padding: 1px 3px; min-width: 10px; font-size: 10px; }
                        .fraction-bottom { padding: 1px 3px; min-width: 10px; font-size: 10px; }
                        .fraction-regular { display: inline-block; text-align: center; vertical-align: middle; margin: 0 2px; font-size: 1em; }
                        .fraction-top-regular { border-bottom: 1.5px solid #000; padding: 2px 6px; min-width: 16px; font-size: 16px; }
                        .fraction-bottom-regular { padding: 2px 6px; min-width: 16px; font-size: 16px; }
                        @media print { body { margin: 0; } }
                        .section-title { color: #2563eb; font-weight: bold; margin-bottom: 10px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>HASIL LATIHAN MATEMATIKA</h1>
                        <h2>Sistem Persamaan Linear Dua Variabel (SPLDV)</h2>
                        <p><strong>Nama:</strong> ${answers.nama}</p>
                        <p><strong>Waktu Mulai:</strong> ${answers.waktuMulai}</p>
                        <p><strong>Waktu Selesai:</strong> ${answers.waktuSelesai}</p>
                        <p><strong>Durasi Pengerjaan:</strong> ${answers.durasiPengerjaan}</p>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">A. PILIHAN GANDA (1-10)</div>`;
            
            for (let i = 1; i <= 10; i++) {
                resultHTML += `<div class="answer"><strong>Soal ${i}:</strong> ${answers[`q${i}`]}</div>`;
            }
            
            resultHTML += `</div>
                    
                    <div class="section">
                        <div class="section-title">B. PILIHAN GANDA KOMPLEKS (11-15)</div>`;
            
            for (let i = 11; i <= 15; i++) {
                resultHTML += `<div class="answer"><strong>Soal ${i}:</strong> ${answers[`q${i}`]}</div>`;
            }
            
            resultHTML += `</div>
                    
                    <div class="section">
                        <div class="section-title">C. MENJODOHKAN (16-20)</div>
                        <div class="answer"><strong>Jawaban:</strong> ${answers.matching}</div>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">D. ISIAN SINGKAT (21-25)</div>`;
            
            for (let i = 21; i <= 25; i++) {
                resultHTML += `<div class="answer"><strong>Soal ${i}:</strong> ${answers[`q${i}`]}</div>`;
            }
            
            resultHTML += `</div>
                    
                    <div class="section">
                        <div class="section-title">E. URAIAN (26-30)</div>`;
            
            for (let i = 26; i <= 30; i++) {
                resultHTML += `<div class="answer"><strong>Soal ${i}:</strong> ${answers[`q${i}`]}</div>`;
            }
            
            resultHTML += `</div>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Cetak Hasil</button>
                    </div>
                </body>
                </html>`;
            
            resultWindow.document.write(resultHTML);
            resultWindow.document.close();
        }
    </script>
</html>
